<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title></title>
<script>
var s = "张三56分，李四74分，王五92分，赵六84分";	
var a = s.match( /\d+/g ), sum = 0; 
for( var i= 0 ; i<a.length ; i++){
    sum += parseFloat(a[i]); 
};
var avg = sum / a.length; 
function f(){
    var n = parseFloat(arguments[1]); 
    return n + "分" + " ( " + (( n > avg ) ? ( "超出平均分" + ( n - avg ) ) : 
( "低于平均分" + ( avg - n ) )) + "分 ) "; 
}
var s1 = s.replace( /(\d+)分/g, f ); 
document.write( s1 );// “张三56 分(低于平均分20.5 分)，李四74分(低于平均分2. 5分)，王五92分( 超出平均分15 .5分 )， 赵六84分 ( 超出平均分7. 5分)”

</script>
</head>
<body>
</body>
</html> 
